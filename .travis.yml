language: java

addons:
  sonarcloud:
    organization: "mvallim"
    token:
      secure: "IPgi0P3K1O4DGrha3DqKxuq1pyzVIlDKkfUUzxUMJjJcgJ+AcgdZMeCkO5g3t91s6iSjBROt1kMU+GgB54SQY4fzT7W+YUJ7AIMoX9KFtHH+mQTBTWcc+kR8gvV46u6wsCtSN4ODDoHVgrN7gs8D/7QaGHZ3e0oQzMCRvNg9ew+rCEfMxDaSt2Qxdtfo6lTcGq1VDN9xZpB/2Bpl3o1i7/HyvE/5Yti8QCXZUITfwZbN3B07CFpV+DaGRVzSVMTVkuEcM/YzFZKMblwhOLvgCy6KiAXYKRbBJql42qSC1URFem9wUFaEbRSiMHrMx8WF/w15wG4h8XqB0O/2/Y+dtMRhslSMYpHCxaBSBiaSLXRKv0W9SOMzcve4gfjuuFhlWqBodYllemKG+miCQh2Oar8rYH7WKF16LPam4it0BxRlr9CYBu6tnXC0NQ8TljWSa44MpKcFxJOWaY/a/33bY8svOQnAYsOhOhf3opNJ6orY4Bqerecr/3gxL3J0YgI/niKs9PqwFzYwmNW64AObIyILsbOzRZDsb616e7g95+5Liih1c7zrIg5aEDV3JcyxTOTUAFXt4EJJGnkKBFzlsdyoHoMIbIQSumP0ILsDr/VBJEKM7TY5N3/NpC5MS2C/prJkl3p35Lkpx7QBDAoGdwI2OJgyhPHwhTjNkBBeMpQ="

cache:
  directories:
  - "$HOME/.cache"

script:
  - mvn clean compile
  - mvn test

# install:
#   - git fetch --unshallow

after_success:
  - mvn clean test jacoco:report org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.projectKey=emv-qrcode

